## Отправка данных

SDK кэширует данные (сессии, события, свойства клиентов и т.д.) во внутренней базе данных и периодически отправляет их в CDP Sendsay. 
После успешной отправки данные обновляют значения в базе аккаунта, а затем удаляются из кэша SDK. Этот процесс называется **отправкой данных**.

По умолчанию SDK отправляет данные сразу после их отслеживания или при переходе приложения в фоновый режим. Поведение можно изменить, настроив [режим отправки](#flushing-modes).

Вы можете полностью отключить автоматическую отправку. В этом случае данные нужно [передавать вручную](#manual-flushing) — каждый раз, когда они накопились и готовы к отправке.

SDK отправляет данные только при наличии стабильного интернет-соединения. Если во время отправки произошла ошибка, данные останутся в кэше и будут отправлены позже — как только соединение восстановится.

## Режимы отправки

SDK поддерживает четыре режима, определяющих частоту и способ отправки данных.

| Название               | Описание |
| ---------------------- | ----------- |
| `.immediate` (по умолчанию) | Отправляет все данные сразу после их получения. |
| `.automatic`           | Отправляет данные при потере активного состояния приложения. |
| `.periodic(Int)`       | Отправляет данные с указанным интервалом (в секундах), а также при закрытии или переходе приложения в фоновый режим. |
| `.manual`              | Полностью отключает автомтатическую отправку. Отправку необходимо выполнять [вручную](#manual-flushing). |

Чтобы изменить режим, сначала [инициализируйте SDK](docs/ios-sdk-setup.md), затем установите `flushingMode` напрямую в синглтоне `Sendsay`:

```swift
Sendsay.shared.flushingMode = .periodic(10)
```

## Ручная отправка

Чтобы вручную отправить накопленные данные, вызовите:

```swift
Sendsay.shared.flushData()
```