## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SDK

iOS SDK Sendsay –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å –ø–æ–º–æ—â—å—é [CocoaPods](https://cocoapods.org/) –∏–ª–∏ [Swift Package Manager](https://www.swift.org/package-manager/).

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–µ –Ω–∏–∂–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è Xcode 15.1 –∏ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥—Ä—É–≥–æ–π –≤–µ—Ä—Å–∏–∏ Xcode.

### CocoaPods

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [CocoaPods](https://cocoapods.org/), –µ—Å–ª–∏ –≤—ã –µ—â–µ —ç—Ç–æ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–ª–∏.
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `Podfile` –≤ –ø–∞–ø–∫–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Xcode.
3. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ –≤ –≤–∞—à `Podfile`
   ```
   platform :ios, '13.0'
   use_frameworks!

   target 'YourAppTarget' do
     pod "SendsaySDK"
   end
   ```
   (–ó–∞–º–µ–Ω–∏—Ç–µ `13.0` –Ω–∞ –∂–µ–ª–∞–µ–º—É—é –≤–µ—Ä—Å–∏—é iOS –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ `YourAppTarget` –Ω–∞ –∏–º—è —Ü–µ–ª–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
4. –í –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ Xcode –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:
    ```
    pod install
    ```
5. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `HelloWorld.xcworkspace`, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –≤ –ø–∞–ø–∫–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –≤ XCode.
6. –í Xcode –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É `Build Settings`. –í —Ä–∞–∑–¥–µ–ª–µ `Build Options` –∏–∑–º–µ–Ω–∏—Ç–µ `User Script Sandboxing` —Å `Yes` –Ω–∞ `No`.

–ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é `SendsaySDK` —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã `pod` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–ª –ª—é–±—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ–Ω—å—à–µ –º–∏–Ω–æ—Ä–Ω–æ–π –≤–µ—Ä—Å–∏–∏:
```
pod "SendsaySDK", "~> 3.6.0"
```
–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ [–£–∫–∞–∑–∞–Ω–∏—é –≤–µ—Ä—Å–∏–π pod](https://guides.cocoapods.org/using/the-podfile.html#specifying-pod-versions) –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Cocoapods.

### Swift Package Manager

1. –í Xcode –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Xcode -> Settings -> Accounts` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å GitHub, –µ—Å–ª–∏ –≤—ã –µ—â–µ —ç—Ç–æ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–ª–∏.
2. –û—Ç–∫—Ä–æ–π—Ç–µ `File -> Add Package Dependencies...`
3. –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –¥–∏–∞–ª–æ–≥–æ–≤–æ–º –æ–∫–Ω–µ –≤–≤–µ–¥–∏—Ç–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Sendsay iOS SDK `https://github.com/sendsay-ru/sendsay-mobile-sdk-ios` –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞.
4. –í —Ä–∞–∑–¥–µ–ª–µ `Dependency Rule` –≤—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é SDK.
   ![–î–∏–∞–ª–æ–≥ Add Package Dependencies](https://raw.githubusercontent.com/sendsay/sendsay-ios-sdk/main/Documentation/images/swift-pm-1.png)
5. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ `Add Package`.
6. –í —Å–ª–µ–¥—É—é—â–µ–º –¥–∏–∞–ª–æ–≥–æ–≤–æ–º –æ–∫–Ω–µ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω—ã –∏ `SendsaySDK`, –∏ `SendsaySDK-Notifications`.
   ![–î–∏–∞–ª–æ–≥ Choose Packages](https://raw.githubusercontent.com/sendsay/sendsay-ios-sdk/main/Documentation/images/swift-pm-2.png)
7. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ `Add Package`.

## –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SDK

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ SDK –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç, –≤—ã –¥–æ–ª–∂–Ω—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å SDK –≤ –∫–æ–¥–µ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —è–≤–ª—è—é—Ç—Å—è `projectToken`, `authorization` –∏ `baseURL`. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –∏—Ö –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ CDP Sendsay –≤ —Ä–∞–∑–¥–µ–ª–µ `–ü–æ–¥–ø–∏—Å—á–∏–∫–∏` > `–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ` > `–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è`.

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ SDK:

```swift
import SendsaySDK
```

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ SDK:

```swift
Sendsay.shared.configure(
  Sendsay.ProjectSettings(
    projectToken: "ID –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ Sendsay",
    authorization: .token("YOUR API KEY"),
    baseUrl: "https://mobi.sendsay.ru/mobi/api/v100/json"
  ),
  pushNotificationTracking: .disabled
)
```

–ú–µ—Ç–æ–¥ `application:didFinishLaunchingWithOptions` –≤–∞—à–µ–≥–æ `AppDelegate` –æ–±—ã—á–Ω–æ —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–∏–º –º–µ—Å—Ç–æ–º –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–∏–∑–∞–π–Ω–∞ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ –≤ –≤–∞—à–µ–º –∫–æ–¥–µ.

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ SDK –∞–∫—Ç–∏–≤–µ–Ω –∏ —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–µ–Ω –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —Å–æ–±—ã—Ç–∏—è –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SDK –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞ —Å –Ω–æ–≤—ã–º cookie, –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –Ω–µ –±—ã–ª [–∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω](../docs/tracking.md#identify) —Ä–∞–Ω–µ–µ.

> üìò
>
> –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ [–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ](../docs/tracking.md) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π –æ —Ç–æ–º, –∫–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è SDK.

## –î—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SDK

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

SDK –º–æ–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥—É `configure`. –î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](../docs/configuration.md).

### –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

SDK –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

| –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è  | –û–ø–∏—Å–∞–Ω–∏–µ |
| -----------| ----------- |
| `.none`    | –û—Ç–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `.error`   | –°–µ—Ä—å–µ–∑–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã |
| `.warning` | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ + `.error` |
| `.verbose` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–±–æ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö SDK + `.warning` + `.error`. |

–£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `.warn`. –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏–ª–∏ –æ—Ç–ª–∞–¥–∫–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ `.verbose` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ–π.

–í—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```swift
Sendsay.logger.logLevel = .verbose
```
  
> üëç 
> 
> –î–ª—è –ª—É—á—à–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞ –æ—Ç SDK –∏–º–µ—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `[SEND-iOS]`.

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](../docs/authorization.md), —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö SDK.

### –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö](../docs/data-flushing.md), —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ —Ç–æ–º, –∫–∞–∫ SDK –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ CDP Sendsay –∏ –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
